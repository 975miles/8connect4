(this.webpackJsonp8connect4=this.webpackJsonp8connect4||[]).push([[0],{110:function(e,t,n){},116:function(e){e.exports=JSON.parse('"wss://8c4server.ocean.lol"')},139:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){"use strict";n.r(t);n(138),n(139);var a=n(125),r=Object(a.a)({palette:{type:"dark",background:{default:"#050505"},primary:{main:"#d49a3d"}},overrides:{MuiButton:{textPrimary:{background:"linear-gradient(45deg, #ff7b00 0%, #ff00ff 100%)",borderRadius:3,border:0,color:"white !important",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},textSecondary:{background:"linear-gradient(45deg, rgb(255,37,180) 30%, rgb(198,19,19) 90%)",borderRadius:3,border:0,color:"white !important",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}}}}),c=n(2),i=n(0),o=n.n(i),s=n(11),l=n.n(s),d=n(227),m=n(226),j=n(115),u=n.n(j),h=n(116),b=n(24),p=n.n(b),f=n(38),g=n(51),x=n(65),O=n(66),y=n(36),v=n(79),I=n(78),w=n(5),C=n(182),k=n(248),N=n(225),T=n(223),B=n(224),A=n(222),M=function(e){Object(v.a)(n,e);var t=Object(I.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={open:!1},a.handleOpen=a.handleOpen.bind(Object(y.a)(a)),a.handleClose=a.handleClose.bind(Object(y.a)(a)),a}return Object(O.a)(n,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.props.classes;return Object(c.jsx)("div",{children:Object(c.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,disablePortal:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:this.props.required,disableEscapeKeyDown:this.props.required,children:[Object(c.jsx)(A.a,{id:"alert-dialog-title",children:this.props.title}),Object(c.jsxs)(T.a,{dividers:!0,children:[Object(c.jsx)(B.a,{className:e.text,id:"alert-dialog-description",children:this.props.description}),this.props.children]}),Object(c.jsxs)(N.a,{children:[this.props.required?null:Object(c.jsx)(C.a,{onClick:this.handleClose,color:"secondary",children:"Close"}),this.props.buttonText?Object(c.jsx)(C.a,{onClick:this.props.buttonAction,color:"primary",children:this.props.buttonText}):null]})]})})}}]),n}(o.a.Component),E=Object(w.a)((function(e){return{text:{margin:0}}}))(M);function S(){return L.apply(this,arguments)}function L(){return(L=Object(g.a)(p.a.mark((function e(){var t,n,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",new Promise(function(){var e=Object(g.a)(p.a.mark((function e(a){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({title:"Dialog title",required:!1},t),l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(E,Object(f.a)(Object(f.a)({},t),{},{ref:function(e){return i=e},children:n}))]}),document.getElementById("dialog")),i?(i.handleOpen(),a(i)):setTimeout(Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,S(t,n);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),100);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=S,G=(n(110),n(228));var R=function(){return Object(c.jsxs)("div",{className:"centred",children:[Object(c.jsx)(G.a,{}),Object(c.jsx)("h3",{children:"Attempting to connect to the 8connect4 server..."})]})},P=n(71),D=n.n(P);var z=function(e){return Object(c.jsxs)("div",{className:"centred",children:[Object(c.jsx)(D.a,{}),Object(c.jsx)("h3",{children:"Failed to connect to the 8connect4 server."}),e.error?Object(c.jsxs)("p",{children:['Error: "',e.error,'"']}):null,Object(c.jsx)("h4",{children:"Are you offline? If not, the 8connect4 server might be down."}),Object(c.jsx)(C.a,{size:"large",color:"primary",onClick:function(){return window.location.reload(!1)},children:"Retry"})]})},F=n(80),H=n(236),J=n(232),q=n(4),K=n(250),U=n(230),Y=n(229),_=n(231),V=n(184),X=n(118),Q=n.n(X),Z=function(e){Object(v.a)(n,e);var t=Object(I.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={code:""},a.changeInput=a.changeInput.bind(Object(y.a)(a)),a.tryCode=a.tryCode.bind(Object(y.a)(a)),a}return Object(O.a)(n,[{key:"changeInput",value:function(e){var t=e.target.value;t=t.replace(" ",""),this.setState({code:t})}},{key:"tryCode",value:function(){Ht.emit("joinMatch",this.state.code)}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(c.jsxs)("div",{children:[Object(c.jsx)("label",Object(f.a)(Object(f.a)({},{}),{},{htmlFor:"roomCodeInput",children:"Or, join by code:"})),Object(c.jsx)("br",{}),Object(c.jsxs)(K.a,{className:Object(q.a)(t.margin,t.textField),variant:"filled",children:[Object(c.jsx)(Y.a,{htmlFor:"roomCodeInput",children:"Room code"}),Object(c.jsx)(U.a,{id:"roomCodeInput",type:"text",value:this.state.code,onChange:this.changeInput,autoComplete:"off",inputProps:{className:t.textInput,maxLength:6,onKeyDown:function(t){"Enter"==t.key&&e.tryCode()}},endAdornment:Object(c.jsx)(_.a,{position:"end",children:Object(c.jsx)(V.a,{"aria-label":"Join",onClick:this.tryCode,edge:"end",children:Object(c.jsx)(Q.a,{})})})})]})]})}}]),n}(o.a.Component),$=Object(w.a)((function(e){return{margin:{margin:e.spacing(1),marginBottom:0},joinLabel:{display:"inline-block",marginTop:22,marginRight:4},textField:{width:"18ch"},textInput:{textTransform:"uppercase"}}}))(Z),ee=n(40),te=n(245),ne=n(233),ae=n(119),re=n.n(ae),ce=Object(J.a)((function(e){return{margin:{margin:e.spacing(1)},input:{width:170},label:{textAlign:"center"}}}));var ie=function(){var e=ce(),t=o.a.useState(localStorage.name?localStorage.name:""),n=Object(ee.a)(t,2),a=n[0],r=n[1],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||r(e),localStorage.name=e,Ht.emit("changeName",e)};return i(a,!0),Object(c.jsx)("div",{className:e.margin,children:Object(c.jsxs)(ne.a,{container:!0,justify:"center",spacing:1,alignItems:"flex-end",children:[Object(c.jsx)(ne.a,{item:!0,children:Object(c.jsx)(re.a,{})}),Object(c.jsx)(ne.a,{item:!0,children:Object(c.jsx)(te.a,{id:"nameInput",label:"Your name",value:a,onChange:function(e){return i(e.target.value)},autoComplete:"off",inputProps:{className:e.input,maxLength:12,onKeyDown:function(e){"Enter"==e.key&&document.activeElement.blur()}},InputLabelProps:{className:e.label}})})]})})},oe=n(45),se=n(235),le=n(183),de=n(237),me=n(251),je=n(238),ue=n(247),he=n(76),be=n.n(he),pe=n(74),fe=n.n(pe),ge=[1,32],xe=[1,12],Oe=Object(J.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)}}})),ye=[1,2,3,5,8,12,15,20,30,45,60,120],ve=function(e){return"".concat(ye[e],"s")},Ie=Object(f.a)({public:!1,players:9,gameMax:4,turnTime:8,runDownTimer:!0},localStorage.MatchOptions?JSON.parse(localStorage.MatchOptions):{});function we(e){return Object(c.jsxs)(se.a,{size:"small",children:[Object(c.jsx)(C.a,{onClick:function(){return e.fn(-1/0)},children:"<<"}),Object(c.jsx)(C.a,{onClick:function(){return e.fn(-10)},children:"- -"}),Object(c.jsx)(C.a,{onClick:function(){return e.fn(-1)},children:"-"}),Object(c.jsx)(C.a,{disabled:!0,children:e.state}),Object(c.jsx)(C.a,{onClick:function(){return e.fn(1)},children:"+"}),Object(c.jsx)(C.a,{onClick:function(){return e.fn(10)},children:"++"}),Object(c.jsx)(C.a,{onClick:function(){return e.fn(1/0)},children:">>"})]})}function Ce(){var e=Oe(),t=o.a.useState(Ie.public),n=Object(ee.a)(t,2),a=n[0],r=n[1],i=o.a.useState(Ie.players),s=Object(ee.a)(i,2),l=s[0],d=s[1],m=o.a.useState(Ie.gameMax),j=Object(ee.a)(m,2),u=j[0],h=j[1],b=o.a.useState(ye.indexOf(Ie.turnTime)),p=Object(ee.a)(b,2),f=p[0],g=p[1],x=o.a.useState(Ie.runDownTimer),O=Object(ee.a)(x,2),y=O[0],v=O[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(H.a,{style:{marginTop:16,marginBottom:8}}),Object(c.jsx)(le.a,{children:"Privacy"}),Object(c.jsx)(F.a,{component:"div",children:Object(c.jsxs)(ne.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(c.jsx)(ne.a,{item:!0,children:Object(c.jsx)(fe.a,{})}),Object(c.jsx)(ne.a,{item:!0,children:Object(c.jsx)(de.a,{color:"primary",checked:a,onChange:function(e){Ie.public=!a,r(!a)}})}),Object(c.jsx)(ne.a,{item:!0,children:Object(c.jsx)(be.a,{})})]})}),Object(c.jsx)(H.a,{}),Object(c.jsxs)(K.a,{className:e.formControl,children:[Object(c.jsx)(le.a,{style:{marginBottom:5},children:"Max players"}),Object(c.jsx)(we,{fn:function(e){Ie.players+=e,Ie.players<ge[0]&&(Ie.players=ge[0]),Ie.players>ge[1]&&(Ie.players=ge[1]),d(Ie.players)},state:l})]}),Object(c.jsx)(H.a,{}),Object(c.jsxs)(K.a,{className:e.formControl,children:[Object(c.jsx)(le.a,{style:{marginBottom:5},children:"Max games per player per colour"}),Object(c.jsx)(we,{fn:function(e){Ie.gameMax+=e,Ie.gameMax<xe[0]&&(Ie.gameMax=xe[0]),Ie.gameMax>xe[1]&&(Ie.gameMax=xe[1]),h(Ie.gameMax)},state:u})]}),Object(c.jsx)(H.a,{style:{marginBottom:8}}),Object(c.jsx)(le.a,{children:"Turn time"}),Object(c.jsx)(me.a,{value:f,onChange:function(e,t){Ie.turnTime=ye[t],g(t)},step:null,marks:Object(oe.a)(ye.keys()).map((function(e){return{value:e,label:String(ye[e])}})),min:0,max:ye.length-1,getAriaValueText:ve,valueLabelFormat:ve,valueLabelDisplay:"auto"}),Object(c.jsx)(H.a,{style:{marginBottom:8}}),Object(c.jsx)(je.a,{control:Object(c.jsx)(ue.a,{color:"primary",checked:y,onChange:function(e){Ie.runDownTimer=!y,v(!y)}}),label:"Always run down turn timer?",labelPlacement:"start"})]})}function ke(){return(ke=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({title:"Create Match",description:"Match options:",buttonText:"Create",buttonAction:function(){t.handleClose(),localStorage.MatchOptions=JSON.stringify(Ie),Ht.emit("createMatch",Ie)}},Object(c.jsx)(Ce,{}));case 2:t=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=function(){return ke.apply(this,arguments)},Te=Object(J.a)({logoImage:{display:"block",textAlign:"center",margin:"auto",maxWidth:350},controls:{textAlign:"center",border:"1px solid #ffffff1f",borderRadius:10}});var Be=function(){var e=Te();return Object(c.jsxs)("div",{children:[Object(c.jsx)(F.a,{className:e.title,variant:"h3",gutterBottom:!0,children:Object(c.jsx)("img",{className:e.logoImage,src:"/iconanimated.png",alt:"8connect4"})}),Object(c.jsx)(F.a,{variant:"body1",gutterBottom:!0,children:"Play 8 games of connect 4 at once."}),Object(c.jsxs)("div",{className:e.controls,children:[Object(c.jsx)(ie,{}),Object(c.jsx)(H.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(C.a,{size:"large",color:"primary",onClick:function(){return Ht.emit("findMatch")},children:"Find Match"}),Object(c.jsx)("br",{}),Object(c.jsx)(C.a,{size:"small",color:"secondary",onClick:Ne,children:"Create Match"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)($,{})]})]})},Ae=n(239),Me=n(240),Ee=n(249),Se=n(241),Le=n(218),We=n(242),Ge=n(243),Re=n(244),Pe=n(123),De=n.n(Pe),ze=n(121),Fe=n.n(ze),He=n(122),Je=n.n(He),qe=Object(J.a)({root:{textAlign:"center"},privacyIcon:{marginRight:10},table:{width:400,margin:"auto"},head:{backgroundColor:"black"},tableCell:{textAlign:"center"},you:{color:"red",fontWeight:"bold"}});var Ke=function(e){for(var t=qe(),n=[],a=Ht.id.startsWith(e.matchInfo.host),r=function(r){var i="",o=!1;r in e.matchInfo.players&&(i=e.matchInfo.players[r].name,o=Ht.id.startsWith(e.matchInfo.players[r].id)),n.push(Object(c.jsx)(Ae.a,{children:Object(c.jsxs)(Me.a,{className:t.tableCell,children:[r in e.matchInfo.players&&e.matchInfo.host==e.matchInfo.players[r].id?Object(c.jsx)(Ee.a,{title:"This player is the host. They have the ability to start the game.",children:Object(c.jsx)(Fe.a,{fontSize:"inherit"})}):null,o?Object(c.jsx)("span",{className:t.you,children:i}):i,r in e.matchInfo.players&&a&&!o?[Object(c.jsx)(Ee.a,{title:"Kick - remove this player from this lobby.",children:Object(c.jsx)(V.a,{size:"small",onClick:function(){return Ht.emit("kick",e.matchInfo.players[r].id)},children:Object(c.jsx)(D.a,{fontSize:"inherit"})})}),Object(c.jsx)(Ee.a,{title:"Promote - transfer your host privileges to this player.",onClick:function(){return Ht.emit("promote",e.matchInfo.players[r].id)},children:Object(c.jsx)(V.a,{size:"small",children:Object(c.jsx)(Je.a,{fontSize:"inherit"})})})]:null]})},r))},i=0;i<e.matchInfo.maxPlayers;i++)r(i);return e.matchInfo.starting&&new Audio("/countdown/".concat(e.matchInfo.startTimer,".mp3")).play(),Object(c.jsxs)("div",{children:[Object(c.jsx)(V.a,{onClick:function(){return window.location.reload()},children:Object(c.jsx)(De.a,{})}),Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(F.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Room code"}),Object(c.jsxs)(F.a,{variant:"h3",gutterBottom:!0,children:[Object(c.jsx)("span",{className:t.privacyIcon,children:e.matchInfo.public?Object(c.jsx)(Ee.a,{title:"This is a public match. Anyone can join this match from the 'Find Match' button on the homepage.",children:Object(c.jsx)(be.a,{})}):Object(c.jsx)(Ee.a,{title:"This is a private match. Only people with the room code can join.",children:Object(c.jsx)(fe.a,{})})}),e.matchInfo.code]}),e.matchInfo.starting?Object(c.jsxs)(F.a,{variant:"h4",children:["Starting in ",e.matchInfo.startTimer,"..."]}):Object(c.jsx)(Ee.a,{title:a?"Begin a timer to start the match. No more players will be able to join.":"Only the host can start the match.",children:Object(c.jsx)("span",{children:Object(c.jsx)(C.a,{color:a?"primary":"default",size:"large",onClick:function(){return Ht.emit("startMatch")},disabled:!a,children:"Start Match"})})}),Object(c.jsx)(Se.a,{component:Le.a,children:Object(c.jsxs)(We.a,{children:[Object(c.jsx)(Ge.a,{children:Object(c.jsx)(Ae.a,{className:t.head,children:Object(c.jsxs)(Me.a,{className:t.tableCell,children:["Players: ",e.matchInfo.players.length,"/",e.matchInfo.maxPlayers]})})}),Object(c.jsx)(Re.a,{children:n})]})})]})]})},Ue=n(54),Ye=(n(180),Object(J.a)({gameInfo:{display:"flex",width:"100%",marginBottom:20,margin:"auto",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,backgroundColor:"black",borderBottom:"1px solid #ffffff1f",zIndex:100,"& div":{flexGrow:1}},gameInfoTitle:{textAlign:"center"},gameInfoContent:{display:"flex",alignItems:"end",justifyContent:"center"},title:{textAlign:"center"},colourIndicator:{height:49},playerArea:{paddingTop:8,paddingBottom:8,marginBottom:16,textAlign:"center",border:"1px solid #ffffff1f",borderRadius:10},selfGameImage:{width:125},otherGameImage:{width:100},playingGamesContainer:{},playingGames:{display:"flex",maxWidth:600,margin:"auto",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},otherGamesContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},otherGames:{display:"flex",maxWidth:600,alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},vsMe:{color:"red"}}));function _e(e){var t=Ye(),n=Object.keys(e.game.players).find((function(t){return e.playerId.startsWith(e.game.players[t])})),a=e.players.find((function(t){return t.id.startsWith(e.game.players["a"==n?"b":"a"])}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{"data-playercolour":e.playerColour,className:"".concat(e.self?"self-game ":"").concat(e.self?t.selfGameImage:t.otherGameImage," ").concat(e.self&&1==e.games.length&&"b"==e.playerColour?"game-b":"game-".concat(n)," game").concat(e.game.id)}),Object(c.jsxs)(F.a,{variant:"caption",display:"block",children:["Game ",e.game.name," vs ",e.myId.startsWith(a.id)?Object(c.jsx)("span",{className:t.vsMe,children:a.name}):a.name]})]})}function Ve(e){var t=Ye(),n=e.self?t.playingGames:t.otherGames;return Object(c.jsxs)("div",{className:t.playerArea,children:[e.self?Object(c.jsxs)("div",{children:[Object(c.jsx)(F.a,{variant:"h4",children:e.player.name}),Object(c.jsx)(H.a,{})]}):Object(c.jsx)(F.a,{variant:"h6",gutterBottom:!0,children:e.player.name}),Object(c.jsxs)("div",{className:e.self?t.playingGamesContainer:t.otherGamesContainer,children:[Object(c.jsxs)("div",{className:n,children:[e.self?Object(c.jsx)("img",{className:"".concat(t.colourIndicator," colour-indicator-a"),src:"/a.png"}):null,e.games.filter((function(t){return e.player.id.startsWith(t.players.a)})).map((function(t){return Object(c.jsx)(_e,{self:e.self,game:t,games:e.games,players:e.players,playerColour:"a",playerId:e.player.id,myId:e.myId})})),e.self?null:Object(c.jsx)("img",{className:"".concat(t.colourIndicator," colour-indicator-a"),src:"/a.png"})]}),e.self?Object(c.jsx)("div",{id:"controller",className:t.controls}):null,Object(c.jsxs)("div",{className:n,children:[Object(c.jsx)("img",{className:"".concat(t.colourIndicator," colour-indicator-b"),src:"/b.png"}),e.games.filter((function(t){return e.player.id.startsWith(t.players.b)})).map((function(t){return Object(c.jsx)(_e,{self:e.self,game:t,games:e.games,players:e.players,playerColour:"b",playerId:e.player.id,myId:e.myId})}))]})]})]})}var Xe=function(e){var t=Ye(),n=e.players.find((function(t){return e.myId.startsWith(t.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:t.gameInfo,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:t.gameInfoTitle,children:Object(c.jsx)(F.a,{variant:"subtitle1",children:"Ongoing games"})}),Object(c.jsxs)("div",{className:t.gameInfoContent,children:[Object(c.jsx)(F.a,{variant:"h3",children:Object(c.jsx)("span",{id:"gamesLeft",children:"0"})}),Object(c.jsxs)(F.a,{variant:"h5",children:["/",Object(c.jsx)("span",{id:"maxGames",children:"0"})]})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:t.gameInfoTitle,children:Object(c.jsx)(F.a,{variant:"subtitle1",children:"Turn time left"})}),Object(c.jsx)("div",{className:t.gameInfoContent,children:Object(c.jsx)(F.a,{variant:"h3",children:Object(c.jsx)("span",{id:"turnTime",children:"0"})})})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:t.gameInfoTitle,children:Object(c.jsx)(F.a,{variant:"subtitle1",children:"Turn"})}),Object(c.jsx)("div",{className:t.gameInfoContent,children:Object(c.jsxs)(F.a,{variant:"h3",children:[Object(c.jsx)("img",{height:"35",id:"turnIndicator"}),Object(c.jsx)("span",{id:"turnNumber",children:"0"})]})})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(Ve,{player:n,players:e.players,games:e.games,self:!0,myId:e.myId}),e.players.filter((function(t){return!e.myId.startsWith(t.id)})).map((function(t){return Object(c.jsx)(Ve,{player:t,players:e.players,games:e.games,self:!1,myId:e.myId})}))]})]})},Qe=n(124),Ze=n.n(Qe),$e=Object(J.a)({root:{textAlign:"center"},tableCell:{textAlign:"center"},gamesContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center","& div":{marginLeft:25,marginRight:25}},gameImage:{width:150},counterImage:{height:10},you:{color:"red"},otherPlayer:{}});var et=function(e){for(var t=$e(),n=function(n){return e.myId.startsWith(n.id)?t.you:t.otherPlayer},a=0,r=1;r<e.results.length&&e.results[r].score==e.results[0].score;r++)a=r;return new Audio("/endMatch.mp3").play(),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(V.a,{onClick:function(){return window.location.reload()},children:Object(c.jsx)(Ze.a,{})}),Object(c.jsxs)(F.a,{variant:"h2",children:["Winner",0==a?"":"s",":"]}),Object(c.jsx)(F.a,{variant:"h4",gutterBottom:!0,children:e.results.slice(0,a+1).map((function(e){return e.name})).join(", ")}),Object(c.jsx)(Se.a,{component:Le.a,children:Object(c.jsx)(We.a,{children:Object(c.jsx)(Re.a,{children:e.results.map((function(n){return Object(c.jsx)(Ae.a,{children:Object(c.jsxs)(Me.a,{className:t.tableCell,children:[n.placement,". ",e.myId.startsWith(n.id)?Object(c.jsx)("span",{className:t.you,children:n.name}):n.name," with a score of ",n.score,"."]})})}))})})}),Object(c.jsx)(F.a,{variant:"h3",children:"Games"}),Object(c.jsx)("div",{className:t.gamesContainer,children:e.games.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:e.src,className:t.gameImage}),Object(c.jsxs)(F.a,{variant:"caption",display:"block",children:["Game ",e.name,Object(c.jsx)("br",{}),Object(c.jsx)("span",{className:n(e.players.a),children:e.players.a.name})," ",Object(c.jsx)("img",{className:t.counterImage,src:"/a.png"})," vs ",Object(c.jsx)("img",{className:t.counterImage,src:"/b.png"})," ",Object(c.jsx)("span",{className:n(e.players.b),children:e.players.b.name}),Object(c.jsx)("br",{}),0==e.outcome?"Draw":Object(c.jsxs)("span",{children:["Winner: ",Object(c.jsx)("img",{className:t.counterImage,src:"/".concat(e.outcome,".png")})]})]})]})}))})]})})};for(var tt={a:new Image,b:new Image,hover:{},outcomeOverlay:{}},nt=0,at=["a","b"];nt<at.length;nt++){var rt=at[nt],ct="/".concat(rt,".png");tt[rt].src=ct,tt.hover[rt]=new Image,tt.hover[rt].src="/hover_".concat(rt,".png")}for(var it=0,ot=["win","loss","draw"];it<ot.length;it++){var st=ot[it],lt=new Image;lt.src="/outcome/".concat(st,".png"),tt.outcomeOverlay[st]=lt}var dt=tt,mt=100,jt=document.createElement("canvas");jt.width=732,jt.height=108;var ut=jt.getContext("2d"),ht=null,bt="a";function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ut.clearRect(0,0,jt.width,jt.height),ut.fillStyle="white";for(var t=0;t<8;t++)ut.fillRect(104*t,0,4,jt.height);for(var n=0;n<2;n++)ut.fillRect(0,104*n,jt.width,4);if(null!=e){e.type.startsWith("touch")&&(e=e.changedTouches[0]);var a=e.target.getBoundingClientRect(),r=(e.clientX-a.left-4)*(jt.width/a.width),c=(e.clientY-a.top-4)*(jt.height/a.height);if(r<0||c<0)return;if(c>=mt)return;if(r%104>=mt)return;var i=Math.floor(r/104);ht!=i&&(ht=i,Ht.emit("hover",ht))}if(null!=ht){var o=dt[bt];o.complete&&ut.drawImage(o,4+104*ht,4,mt,mt)}}function ft(){Ht.emit("move",bt,ht),ht=null,Ht.emit("hover",ht),pt()}pt(),jt.addEventListener("mousemove",pt),jt.addEventListener("touchstart",pt),jt.addEventListener("touchmove",pt),jt.addEventListener("touchend",ft),jt.addEventListener("mousedown",ft);var gt,xt,Ot,yt=50,vt="123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",It=new Audio("/place.mp3"),wt=new Audio("/otherPlace.mp3"),Ct=new Audio("/endGame.mp3"),kt=new Audio("/startTurn.mp3"),Nt=[],Tt=[],Bt=0,At="a",Mt=Date.now(),Et=document.createElement("canvas");Et.width=382,Et.height=378;var St=Et.getContext("2d");function Lt(){var e=(Mt-Date.now())/1e3;e<0&&(e=0),document.getElementById("turnTime").innerHTML=e.toFixed(2)}function Wt(e){document.getElementById("turnNumber").innerHTML=++Bt,At=e,Mt=Date.now()+gt.turnTime;for(var t=0,n=[].concat(Object(oe.a)(document.getElementsByClassName("game-".concat("a"==e?"b":"a"))),Object(oe.a)(document.getElementsByClassName("colour-indicator-".concat("a"==e?"b":"a"))));t<n.length;t++){n[t].classList.add("inactive-game")}for(var a=0,r=[].concat(Object(oe.a)(document.getElementsByClassName("game-".concat(e))),Object(oe.a)(document.getElementsByClassName("colour-indicator-".concat(e))));a<r.length;a++){r[a].classList.remove("inactive-game")}var c,i=Object(Ue.a)(Nt);try{for(i.s();!(c=i.n()).done;){c.value.hover=null}}catch(o){i.e(o)}finally{i.f()}document.getElementById("turnIndicator").src="/".concat(e,".png"),function(e){bt=e,ht=null,pt()}(e),Bt>1&&kt.play()}function Gt(e,t,n){e.complete&&St.drawImage(e,54*Number(t)+4,54*(Number(n)+1),yt,yt)}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;St.clearRect(0,0,Et.width,Et.height),St.fillStyle="white";for(var n=0;n<=6;n++)St.fillRect(0,yt+54*n,Et.width,4);for(var a=0;a<=7;a++)St.fillRect(54*a,yt,4,Et.height-yt);for(var r in e.state)for(var c in e.state[r]){var i=e.state[r][c];null!=i&&Gt(dt[i],c,r)}if(null!==e.hover){Gt(dt[At],e.hover,-1);for(var o=null,s=0;s<6;s++)if(null!=e.state[s][e.hover]){o=s-1;break}-1==o&&(o=!1),null==o&&(o=5),!1!==o&&(dt.hover[At].complete&&(St.globalAlpha=.15,St.drawImage(dt.hover[At],54*Number(e.hover)+4,54,yt,54*(Number(o)+1)-4)),St.globalAlpha=.5,Gt(dt[At],e.hover,o),St.globalAlpha=1)}return null!=t&&t.complete&&(St.globalAlpha=.75,St.drawImage(t,0,0,Et.width,Et.height),St.globalAlpha=1),Et.toDataURL()}function Pt(e){var t,n=Rt(Nt[e]),a=Object(Ue.a)(document.getElementsByClassName("game".concat(e)));try{for(a.s();!(t=a.n()).done;){t.value.src=n}}catch(r){a.e(r)}finally{a.f()}}var Dt=u()(h,{transports:["websocket"]}),zt=!1;function Ft(e){setTimeout((function(){Dt.disconnected&&(l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(z,{error:e.toString()})]}),document.getElementById("root")),Dt.disconnect())}),1e4)}l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(R,{})]}),document.getElementById("root")),Dt.on("connect",(function(){zt||(zt=!0,l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(Be,{})]}),document.getElementById("root")))})),Dt.on("connect_error",Ft),Dt.on("connect_timeout",Ft),Dt.on("disconnect",Ft),Dt.on("err",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error:";W({title:t,description:e})})),Dt.on("kicked",(function(e){W({required:!0,title:"Kicked!",description:"".concat(e," kicked you from the lobby."),buttonText:"Back Home",buttonAction:function(){return window.location.reload()}})})),Dt.on("joinMatch",(function(){})),Dt.on("matchUpdate",(function(e){e.started||l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(Ke,{matchInfo:e})]}),document.getElementById("root"))})),Dt.on("matchStart",(function(e){return function(e,t){for(var n in xt=t,gt=e,Bt=0,e.games){for(var a=e.games[n],i=[],o=0;o<6;o++){for(var s=[],j=0;j<7;j++)s.push(null);i.push(s)}Nt.push({id:n,name:n+1>vt.length?"".concat(vt[~~(n/vt.length)]).concat(vt[n%vt.length]):vt[n],players:a.players,state:i})}Ot=Nt.length,l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(Xe,{players:e.players,games:Nt,myId:xt})]}),document.getElementById("root"),(function(){for(var e in document.getElementById("controller").appendChild(jt),jt.style.touchAction="none",document.getElementById("maxGames").innerHTML=Ot,document.getElementById("gamesLeft").innerHTML=Ot,Nt)Pt(e);Tt.timer=setInterval(Lt,1e3/24),new Audio("/startMatch.mp3").play()}))}(e,Dt.id)})),Dt.on("turnSwitch",(function(e){return Wt(e)})),Dt.on("hover",(function(e,t,n){return function(e,t,n){t==At&&(Nt[e].hover=n),Pt(e)}(e,t,n)})),Dt.on("move",(function(e,t,n,a){return function(e,t,n,a){var r=Nt[e];r.state[n][a]=t,r.hover=null,Pt(e),xt.startsWith(r.players[t])||wt.play()}(e,t,n,a)})),Dt.on("takenTurn",(function(e){return function(e){if(It.play(),e==At){var t,n=Object(Ue.a)(document.querySelectorAll(".self-game.game-".concat(e)));try{for(n.s();!(t=n.n()).done;)t.value.classList.add("inactive-game")}catch(a){n.e(a)}finally{n.f()}}}(e)})),Dt.on("outcomeDecided",(function(e,t){return function(e,t){document.getElementById("gamesLeft").innerHTML=--Ot,Nt[e].outcome=t;var n,a=Object(Ue.a)(document.getElementsByClassName("game".concat(e)));try{for(a.s();!(n=a.n()).done;){var r=n.value;r.classList.add("game-outcome-decided");var c=void 0;0==t?c="draw":t==r.getAttribute("data-playercolour")?c="win":c="loss",r.src=Rt(Nt[e],dt.outcomeOverlay[c])}}catch(i){a.e(i)}finally{a.f()}Ct.play()}(e,t)})),Dt.on("endMatch",(function(e){return function(e){for(var t in Tt)clearInterval(Tt[t]),delete Tt[t];var n,a=Object(Ue.a)(Nt);try{var i=function(){var e=n.value;e.src=Rt(e);var t=function(t){e.players[t]=gt.players.find((function(n){return n.id==e.players[t]}))};for(var a in e.players)t(a)};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}Nt.sort((function(e,t){return vt.indexOf(e.name)-vt.indexOf(t.name)})),l.a.render(Object(c.jsxs)(m.a,{theme:r,children:[Object(c.jsx)(d.a,{}),Object(c.jsx)(et,{myId:xt,results:e,games:Nt})]}),document.getElementById("root")),gt=null,Nt=[],Tt=[]}(e)}));var Ht=Dt}},[[181,1,2]]]);
//# sourceMappingURL=main.ba1a3167.chunk.js.map